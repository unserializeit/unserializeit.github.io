<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Unserialize JSON and PHP</title>
		<meta name="description" content="Unserialize JSON, PHP and CSV serialized strings in the browser">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
		<meta name="theme-color" content="#ce3536">
		<link rel="apple-touch-icon" href="./assets/images/apple-touch-icon.png">
		<link rel="icon" href="/favicon.ico" sizes="32x32">
		<link rel="icon" href="/assets/images/icon.png" sizes="192x192">
		<link rel="apple-touch-icon" href="/assets/images/icon.png">
		<meta name="msapplication-TileImage" content="/assets/images/icon.png">
		<meta name="msapplication-TileColor" content="#fff">
		<style>
			html, body {
				height: 100%;
			}
			html {
				-webkit-box-sizing: border-box;
				-moz-box-sizing: border-box;
				box-sizing: border-box;
			}
			*, *:before, *:after {
				-webkit-box-sizing: inherit;
				-moz-box-sizing: inherit;
				box-sizing: inherit;
			}
			body {
				color: #222;
				display: flex;
				flex-direction: column;
				font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
				font-size: 1.125em;
				margin: 0;
				padding: 1.25em;
			}
			main {
				flex: 1 0 auto;
				padding: 0 env(safe-area-inset-right) 0 env(safe-area-inset-left);
			}
			footer {
				color: #ddd;
				flex-shrink: 0;
				padding: 10em env(safe-area-inset-right) 1.25em env(safe-area-inset-left);
				text-align: right;
			}
			#logo {
				align-items: center;
				display: flex;
				flex-direction: row;
				gap: 0.625em;
				margin-bottom: 0.625em;
			}
			h1 {
				margin: 0;
			}
			textarea {
				font-size: 1em;
				height: 150px;
				width: 100%;
				padding: 0.625em;
				resize: vertical;
			}
			button {
				-webkit-appearance: none;
				appearance: none;
				border: none;
				border-radius: 6px;
				color: #222;
				cursor: pointer;
				font-size: 1em;
				margin-top: 0.625em;
				min-width: 8em;
				padding: 0.625em;
				width: 100%;
				transition: all .2s;
				user-select: none;
			}
			@media all and (min-width: 600px) {

				button {
					width: auto;
				}
			}
			.button-primary {
				background-color: #fdd14b;
				border: 1px solid #fdd14b;
			}
			.button-primary:focus,
			.button-primary:hover {
				background-color: #f0c84c;
				border-color: #f0c84c;
			}
			.button-primary:active {
				background-color: #e9c248;
				border-color: #e9c248;
			}
			.button-secondary {
				background-color: transparent;
				border: 1px solid #ccc;
			}
			.button-secondary:focus,
			.button-secondary:hover {
				background-color: #ccc;
			}
			.button-secondary:active {
				background-color: #bbb;
			}
			a {
				color: inherit;
				text-decoration: none;
			}
			a:hover,
			a:active {
				color: #222;
				text-decoration: underline;
			}
			#result {
				background-color: #f9f9f9;
				border: 1px solid #ccc;
				display: none;
				margin-top: 2.5em;
				overflow-x: scroll;
				padding: 10px;
			}
			#button-copy {
				display: none;
			}
			#table {
				margin-top: 1.5em;
				position: relative;
				overflow-x: scroll;
				width: 100%;
				border: 1px solid #ccc;
			}
			#table:empty {
				border: none;
			}
			table {
				border-spacing: 0;
				margin: 0;
				padding: 0;
				min-width: 100%;
			}
			th {
				background-color: #f9f9f9;
				max-width: 24em;
				overflow: hidden;
				text-overflow: ellipsis;
				white-space: nowrap;
			}
			td, th {
				border-left: 1px solid #ccc;
				padding: 0.5em;
				text-align: left;
			}
			td:first-of-type,
			th:first-of-type {
				border-left: none;
			}
			td {
				border-top: 1px solid #ccc;
			}
		</style>
		<script src="./assets/js/papaparse.js"></script>
		<script type="module" src="./assets/js/index.js"></script>
	</head>
	<body>
		<main>
			<div id="logo">
				<!-- https://www.flaticon.com/free-icon/noodle_3081262 -->
				<img src="./assets/images/logo.svg" width="54" height="54" />
				<h1>Unserialize It!</h1>
			</div>

			<p>Paste your serialized PHP object, JSON or CSV string below:</p>

			<textarea id="serialized-data" placeholder="Paste your serialized data here..."></textarea>
			<button id="button-unserialize" class="button-primary">Unserialize</button>


			<div id="table"></div>
			<div id="result"></div>
			<button id="button-copy" class="button-secondary">Copy</button>
		</main>
		<footer>
			<a href="https://github.com/unserializeit/unserializeit.github.io">Github</a>
		</footer>
	</body>
	<script>
	if ( 'serviceWorker' in navigator ) {
		window.addEventListener( 'load', () => {
			navigator.serviceWorker.register( '/service-worker.js' ).then( ( registration ) => {
				console.log( 'ServiceWorker registration successful with scope: ', registration.scope );
			}).catch( ( error ) => {
				console.log( 'ServiceWorker registration failed: ', error );
			});
		});
	}
	</script>
</html>
